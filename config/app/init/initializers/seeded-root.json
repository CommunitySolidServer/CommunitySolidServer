{
  "@context": "https://linkedsoftwaredependencies.org/bundles/npm/@solid/community-server/^3.0.0/components/context.jsonld",
  "@graph": [
    {
      "comment": "Makes sure the root container exists and contains the necessary resources.",
      "@id": "urn:solid-server:default:RootInitializer",
      "@type": "ConditionalHandler",
      "storageKey": "rootInitialized",
      "storageValue": true,
      "storage": { "@id": "urn:solid-server:default:SetupStorage" },
      "source": {
        "@type": "ContainerInitializer",
        "args_baseUrl": { "@id": "urn:solid-server:default:variable:baseUrl" },
        "args_path": "/",
        "args_store": { "@id": "urn:solid-server:default:ResourceStore" },
        "args_generator": {
          "@type": "TemplatedResourcesGenerator",
          "templateFolder": "@css:templates/root/prefilled",
          "factory": { "@type": "ExtensionBasedMapperFactory" },
          "templateEngine": { "@type": "HandlebarsTemplateEngine" }
        },
        "args_storageKey": "rootInitialized",
        "args_storage": { "@id": "urn:solid-server:default:SetupStorage" }
      }
    },
    {
      "comment": "This is where the seeded pod configurations will be stored.",
      "@id": "urn:solid-server:default:SeededPodConfigurationStorage",
      "@type": "JsonFileStorage",
      "filePath": { "@id": "urn:solid-server:default:variable:seededPodConfigJson" },
      "locker": { "@id": "urn:solid-server:default:ResourceLocker" }
    },
    {
      "comment": "Separate manager from the RegistrationHandler in case registration is disabled.",
      "@id": "urn:solid-server:default:SeededPodRegistrationManager",
      "@type": "RegistrationManager",
      "args_baseUrl": { "@id": "urn:solid-server:default:variable:baseUrl" },
      "args_webIdSuffix": "/profile/card#me",
      "args_identifierGenerator": { "@id": "urn:solid-server:default:IdentifierGenerator" },
      "args_ownershipValidator": { "@id": "urn:solid-server:auth:password:OwnershipValidator" },
      "args_accountStore": { "@id": "urn:solid-server:auth:password:AccountStore" },
      "args_podManager": { "@id": "urn:solid-server:default:PodManager" }
    },
    {
      "comment": "Add to the list of initializers.",
      "@id": "urn:solid-server:default:ParallelInitializer",
      "ParallelHandler:_handlers": [
        {
          "comment": "Initializer that instantiates all the seeded accounts and pods.",
          "@type": "SeededPodInitializer",
          "args_registrationManager": { "@id": "urn:solid-server:default:SeededPodRegistrationManager" },
          "args_configStorage": { "@id": "urn:solid-server:default:SeededPodConfigurationStorage" },
        }
      ]
    },
  ]
}
